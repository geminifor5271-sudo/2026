<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>F1 SHANGHAI 2026</title>
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#050505">
    <link rel="manifest" href="manifest.json">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 fill=%22%23050505%22/><text y=%22.9em%22 font-size=%2280%22>ğŸï¸</text></svg>">

    <style>
        :root {
            --bg: #050505;
            --surface: #121212;
            --on-surface: #1c1c1e;
            --primary: #ff1e00;
            --text-p: #ffffff;
            --text-s: #8e8e93;
            --safe-top: env(safe-area-inset-top, 20px);
            --safe-bottom: env(safe-area-inset-bottom, 20px);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; background: var(--bg); color: var(--text-p);
            font-family: 'Inter', -apple-system, system-ui, sans-serif;
            height: 100dvh; display: flex; flex-direction: column;
            overflow: hidden;
        }

        /* é ‚éƒ¨çœ‹æ¿ */
        .app-header {
            padding: calc(var(--safe-top) + 15px) 20px 15px;
            background: linear-gradient(to bottom, #250505, var(--bg));
            flex-shrink: 0;
            z-index: 10;
        }
        .app-header h1 { margin: 0; font-size: 24px; font-weight: 900; font-style: italic; letter-spacing: -1px; }
        .app-header h1 span { color: var(--primary); }

        /* ä¸»å°èˆªåˆ†é æ§åˆ¶ */
        .page-container {
            flex: 1; position: relative; width: 100%; overflow: hidden;
        }
        .main-page {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; flex-direction: column;
            animation: fadeIn 0.3s ease;
        }
        .main-page.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* è¡Œç¨‹é å°ˆç”¨æ¨£å¼ */
        .day-nav {
            display: flex; gap: 10px; padding: 10px 20px;
            overflow-x: auto; scrollbar-width: none; flex-shrink: 0;
        }
        .day-nav::-webkit-scrollbar { display: none; }
        .day-tab {
            flex: 0 0 auto; padding: 10px 20px; border-radius: 12px;
            background: var(--surface); color: var(--text-s);
            font-size: 13px; font-weight: 700; transition: 0.2s;
        }
        .day-tab.active { background: var(--primary); color: white; transform: scale(1.05); }

        .scroll-content {
            flex: 1; overflow-y: auto; padding: 10px 20px 100px;
            -webkit-overflow-scrolling: touch;
        }

        /* æ™‚é–“è»¸åˆ—è¡¨çµ„ä»¶ */
        .timeline-item { display: flex; gap: 15px; margin-bottom: 20px; position: relative; }
        .timeline-line { position: absolute; left: 19px; top: 30px; bottom: -20px; width: 2px; background: #2c2c2e; }
        .timeline-item:last-child .timeline-line { display: none; }
        .time-mark { flex: 0 0 40px; text-align: center; }
        .time-text { font-size: 11px; font-weight: 800; color: var(--text-s); }
        .time-dot { width: 10px; height: 10px; background: #333; border-radius: 50%; margin: 8px auto; border: 2px solid var(--bg); z-index: 1; position: relative; }
        .timeline-item.active .time-dot { background: var(--primary); box-shadow: 0 0 10px var(--primary); }
        .timeline-item.active .time-text { color: var(--primary); }

        .info-card {
            flex: 1; background: var(--surface); padding: 18px; border-radius: 20px;
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid rgba(255,255,255,0.03); transition: 0.1s;
        }
        .info-card:active { transform: scale(0.97); background: #1a1a1c; }
        .card-body h3 { margin: 0; font-size: 16px; font-weight: 700; }
        .card-body p { margin: 6px 0 0; font-size: 12px; color: var(--text-s); }

        /* è³½é“é å°ˆç”¨æ¨£å¼ */
        .track-map { width: 100%; border-radius: 20px; background: #222; margin-bottom: 20px; position: relative; overflow: hidden; }
        .track-img { width: 100%; display: block; filter: grayscale(1) invert(1); opacity: 0.7; }

        /* åº•éƒ¨å°èˆªæ¬„ */
        .bottom-nav {
            background: rgba(18, 18, 18, 0.95); backdrop-filter: blur(20px);
            border-top: 1px solid #222; display: flex; justify-content: space-around;
            padding: 10px 0 calc(8px + var(--safe-bottom)); flex-shrink: 0;
            position: fixed; bottom: 0; width: 100%; z-index: 100;
        }
        .nav-btn {
            background: none; border: none; color: var(--text-s);
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            font-size: 10px; font-weight: 600; width: 25%;
        }
        .nav-btn.active { color: var(--primary); }
        .nav-icon { font-size: 22px; }

        /* è©³æƒ…æŠ½å±œ (Sheet) */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; z-index: 1500; animation: fadeIn 0.2s; }
        #detail-sheet {
            position: fixed; bottom: -100%; left: 0; width: 100%; height: 75%;
            background: #1c1c1e; border-radius: 30px 30px 0 0;
            z-index: 2000; transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            padding: 40px 25px;
        }
        #detail-sheet.open { bottom: 0; }
        .sheet-handle { width: 40px; height: 5px; background: #333; border-radius: 3px; position: absolute; top: 15px; left: 50%; transform: translateX(-50%); }

        .btn-close { width: 100%; padding: 18px; border-radius: 16px; border: none; background: #2c2c2e; color: white; font-weight: bold; margin-top: 30px; font-size: 16px; }
        .btn-close:active { background: #3a3a3c; }

    </style>
</head>
<body>

    <header class="app-header">
        <h1 id="header-title">SHANGHAI <span>GP</span></h1>
    </header>

    <div class="page-container">
        
        <div id="page-schedule" class="main-page active">
            <div class="day-nav">
                <div class="day-tab active" onclick="switchDay('d1', this)">12 Thu</div>
                <div class="day-tab" onclick="switchDay('d2', this)">13 Fri</div>
                <div class="day-tab" onclick="switchDay('d3', this)">14 Sat</div>
                <div class="day-tab" onclick="switchDay('d4', this)">15 Sun</div>
                <div class="day-tab" onclick="switchDay('d5', this)">16 Mon</div>
            </div>
            <div class="scroll-content" id="schedule-list">
                </div>
        </div>

        <div id="page-track" class="main-page">
            <div class="scroll-content">
                <div class="track-map">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.formula1.com/en/racing/2024/China.html" alt="Track" class="track-img" style="height: 200px; object-fit: contain; padding: 20px;">
                    <p style="text-align: center; font-size: 12px; color: #8e8e93;">ä¸Šæµ·åœ‹éš›è³½è»Šå ´ (SIC)</p>
                </div>
                <h2>äº¤é€šæŒ‡å¼•</h2>
                <div class="info-card" style="margin-bottom:15px">
                    <div class="card-body">
                        <h3>åœ°éµ 11 è™Ÿç·š</h3>
                        <p>ç›´é”ã€Œä¸Šæµ·è³½è»Šå ´ã€ç«™ï¼Œå‡ºç«™å³é”è³½è»Šå ´æ°´æ™¯å»£å ´ã€‚</p>
                    </div>
                </div>
                <div class="info-card">
                    <div class="card-body">
                        <h3>å»ºè­°å‡ºç™¼æ™‚é–“</h3>
                        <p>æ­£è³½æ—¥å»ºè­°æå‰ 3 å°æ™‚å‡ºç™¼ï¼Œé¿å… 11 è™Ÿç·šæ“æ“ ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-food" class="main-page">
            <div class="scroll-content">
                <h2>ä¸Šæµ·å¿…åƒ</h2>
                <div class="info-card" style="margin-bottom:15px">
                    <div class="card-body">
                        <h3>å°ç± åŒ…ï¼šä½³å®¶æ¹¯åŒ…</h3>
                        <p>é»ƒæ²³è·¯ç¸½åº—ï¼Œæ¨è–¦èŸ¹ç²‰é®®è‚‰å°ç± ã€‚</p>
                    </div>
                </div>
                <div class="info-card">
                    <div class="card-body">
                        <h3>æœ¬å¹«èœï¼šè€å‰å£«</h3>
                        <p>å¤©å¹³è·¯è€åº—ï¼Œéœ€æå‰é ç´„ç´…ç‡’è‚‰ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-settings" class="main-page">
            <div class="scroll-content">
                <h2>ç³»çµ±è¨­å®š</h2>
                <div class="info-card" style="margin-bottom:15px" onclick="haptic(50)">
                    <div class="card-body">
                        <h3>è§¸è¦ºå›é¥‹</h3>
                        <p>å·²é‡å° S24 Ultra ç·šæ€§é¦¬é”å„ªåŒ–</p>
                    </div>
                    <div style="color:var(--primary)">ON</div>
                </div>
                <p style="text-align: center; color: #333; margin-top: 40px;">Version 1.2.0 (Stable)</p>
            </div>
        </div>

    </div>

    <nav class="bottom-nav">
        <button class="nav-btn active" onclick="switchMainPage('schedule', this)">
            <span class="nav-icon">ğŸ—“ï¸</span>è¡Œç¨‹
        </button>
        <button class="nav-btn" onclick="switchMainPage('track', this)">
            <span class="nav-icon">ğŸï¸</span>è³½é“
        </button>
        <button class="nav-btn" onclick="switchMainPage('food', this)">
            <span class="nav-icon">ğŸ”</span>ç¾é£Ÿ
        </button>
        <button class="nav-btn" onclick="switchMainPage('settings', this)">
            <span class="nav-icon">âš™ï¸</span>è¨­å®š
        </button>
    </nav>

    <div class="overlay" id="overlay" onclick="closeSheet()"></div>
    <div id="detail-sheet">
        <div class="sheet-handle"></div>
        <div id="sheet-content">
            <h2 id="sheet-title">è©³æƒ…å…§å®¹</h2>
            <p id="sheet-body" style="color:var(--text-s); line-height:1.8; font-size: 15px;"></p>
        </div>
        <button class="btn-close" onclick="closeSheet()">äº†è§£æ›´å¤š</button>
    </div>

    <script>
        const scheduleData = {
            d1: [
                { time: '09:00', title: 'å•Ÿç¨‹ï¼šå°åŒ— â” ä¸Šæµ·', desc: 'TSA æ¾å±± â” SHA è™¹æ©‹', detail: 'å»ºè­°é¸æ“‡æ¾å±±æ©Ÿå ´å‡ºç™¼ï¼Œè™¹æ©‹æ©Ÿå ´é€²å¸‚å€åƒ…éœ€ 20 åˆ†é˜åœ°éµï¼Œæ¯”æµ¦æ±æ©Ÿå ´ç¯€çœæ¥µå¤šæ™‚é–“ã€‚' },
                { time: '15:00', title: 'é£¯åº— Check-in', desc: 'éœå®‰å¯ºå€åŸŸé£¯åº—', detail: 'æ¨è–¦å…¥ä½éœå®‰é¦™æ ¼é‡Œæ‹‰æˆ–ç’éº—ï¼Œè™•æ–¼ 2 è™Ÿç·šèˆ‡ 7 è™Ÿç·šäº¤æœƒï¼Œç„¡è«–å»è³½å ´æˆ–å¤–ç˜éƒ½æ–¹ä¾¿ã€‚' },
                { time: '19:00', title: 'å¤–ç˜æ•£æ­¥ & æ™šé¤', desc: 'å¤–ç˜æºå€åŸŸ', detail: 'è§€è³æµ¦æ±é™¸å®¶å˜´å¤œæ™¯ï¼Œæ™šé¤å»ºè­°é ç´„å¤–ç˜ 18 è™Ÿæˆ–å‘¨é‚Šæœ¬å¹«èœã€‚' }
            ],
            d2: [
                { time: '11:30', title: 'è‡ªç”±ç·´ç¿’ FP1', desc: 'ä¸Šæµ·åœ‹éš›è³½è»Šå ´', detail: 'é€™æ˜¯è³½è»Šé¦–æ¬¡ä¸Šè»Œé“æ¸¬è©¦ï¼Œå»ºè­°åœ¨çœ‹å°è§€å¯Ÿ 1-3 è™Ÿçµ„åˆå½çš„éå½å‹•æ…‹ã€‚' },
                { time: '15:30', title: 'è‡ªç”±ç·´ç¿’ FP2', desc: 'ä¸Šæµ·åœ‹éš›è³½è»Šå ´', detail: 'å„éšŠå°‡é€²è¡Œé•·è·é›¢æ¸¬è©¦ï¼ˆLong Runï¼‰ï¼Œæ˜¯è§€å¯Ÿæ­£è³½ç¯€å¥çš„æœ€ä½³æ™‚æ©Ÿã€‚' }
            ],
            d3: [
                { time: '11:30', title: 'è‡ªç”±ç·´ç¿’ FP3', desc: 'æœ€å¾Œèª¿æ•´éšæ®µ', detail: 'è»ŠéšŠå°‡é‡å°æ’ä½è³½é€²è¡Œæ¥µé™å–®åœˆè¨­å®šã€‚' },
                { time: '15:00', title: 'æ’ä½è³½ Qualifying', desc: 'æ±ºå®šæ­£è³½èµ·è·‘é †ä½', detail: 'ä¸Šæµ·ç«™çš„æ’ä½è³½æ¥µå…¶é—œéµï¼Œç‰¹åˆ¥æ˜¯é•·ç›´é“å‰çš„æœ€å¾Œä¸€å€‹å½è§’å‡ºå½é€Ÿåº¦ã€‚' }
            ],
            d4: [
                { time: '13:00', title: 'è»Šæ‰‹å·¡éŠ', desc: 'å…¨å ´è‡´æ„', detail: 'è¿‘è·é›¢æ•æ‰ 20 ä½è»Šæ‰‹ååœ¨å¤è‘£è»Šä¸Šå·¡å ´çš„ç•«é¢ã€‚' },
                { time: '15:00', title: 'ä¸Šæµ·ç«™æ­£è³½ Race', desc: '56 åœˆæ¿€çƒˆå°æ±º', detail: 'æ³¨æ„ 14 è™Ÿå½çš„å¤§è…³ç…è»Šè¶…è»Šé»ï¼Œé€™è£¡é€šå¸¸æ˜¯æ•´å ´æ¯”è³½æˆ°ç«æœ€çŒ›çƒˆçš„åœ°æ–¹ã€‚' }
            ],
            d5: [
                { time: '10:00', title: 'æ­¦åº·è·¯æ–‡é’æ¼«æ­¥', desc: 'å¾åŒ¯å€è€å»ºç¯‰', detail: 'é›¢é–‹ä¸Šæµ·å‰ï¼Œä¾†æ­¦åº·å¤§æ¨“æ‹å¼µç…§ï¼Œä¸¦åœ¨å‘¨é‚Šæ­¦åº·è·¯äº«å—æ³•ç§Ÿç•Œçš„å„ªé–’æ—©åˆé¤ã€‚' },
                { time: '16:00', title: 'å‰å¾€æ©Ÿå ´', desc: 'è¿”å›å°åŒ—', detail: 'è™¹æ©‹æ©Ÿå ´å»ºè­°æå‰ 2 å°æ™‚æŠµé”ï¼Œå®Œæˆé€€ç¨…èˆ‡å…ç¨…å“å–è²¨ã€‚' }
            ]
        };

        function haptic(ms = 12) {
            if (navigator.vibrate) navigator.vibrate(ms);
        }

        function switchMainPage(id, btn) {
            haptic(15);
            document.querySelectorAll('.main-page').forEach(p => p.classList.remove('active'));
            document.getElementById('page-' + id).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // æ›´æ–°æ¨™é¡Œ
            const titles = { schedule: 'SHANGHAI GP', track: 'CIRCUIT', food: 'CUISINE', settings: 'SETTINGS' };
            document.getElementById('header-title').innerHTML = titles[id] === 'SHANGHAI GP' ? 'SHANGHAI <span>GP</span>' : titles[id];
            
            if (id === 'schedule') renderSchedule('d1');
        }

        function renderSchedule(day) {
            const container = document.getElementById('schedule-list');
            const data = scheduleData[day];
            container.innerHTML = data.map((item, idx) => `
                <div class="timeline-item ${idx === 0 ? 'active' : ''}">
                    <div class="timeline-line"></div>
                    <div class="time-mark">
                        <div class="time-text">${item.time}</div>
                        <div class="time-dot"></div>
                    </div>
                    <div class="info-card" onclick="openSheet('${item.title}', '${item.detail}')">
                        <div class="card-body">
                            <h3>${item.title}</h3>
                            <p>${item.desc}</p>
                        </div>
                        <div style="color:#333">â¯</div>
                    </div>
                </div>
            `).join('');
        }

        function switchDay(dayId, btn) {
            haptic(10);
            document.querySelectorAll('.day-tab').forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            renderSchedule(dayId);
        }

        function openSheet(title, body) {
            haptic(20);
            document.getElementById('sheet-title').innerText = title;
            document.getElementById('sheet-body').innerText = body;
            document.getElementById('detail-sheet').classList.add('open');
            document.getElementById('overlay').style.display = 'block';
        }

        function closeSheet() {
            document.getElementById('detail-sheet').classList.remove('open');
            document.getElementById('overlay').style.display = 'none';
        }

        // åˆå§‹åŒ–
        window.onload = () => renderSchedule('d1');

    </script>
</body>
</html>
